                        SliceHack -- Changelog
                        
This file describes SliceHack's changes from SpliceHack and (below) the
changelog for SpliceHack.

*	Renamed as SliceHack.
*	Misc bug/typo/clean-up fixes, including removing Lord of the Foocubi
	references (the former Malcanthet)
*	Do silver damage fighting unarmed with fingerless gloves.
*	Misc YAFMs and silly names (hallucinating, mostly).
*	Fumbling potions - you try to drink with greasy fingers and whoops,
	you dropped it.
*	Sitting on an egg. Egg-layers are safe, other heroes splat it - yes,
	this is YA way to be killed by a cockatrice.
*	Exploding your bag of holding is no longer time to #quit. You'll lose
	a few items though, and the others will be thrown around the room.
	Fragile items may break, and anything could end up in a pool or lava.
*	Climbing boots. Allows you to climb stairs (or descend safely) when
	Strained, safely climb into a known pit/trapdoor/hole, get out of a
	pit in one turn, and squeeze past a boulder with more inventory.
*	Mined gems will not be glass.
*	You can get a wish from a wand of wonder - if it's the wrest charge.
	As well as the 1/30 chance of picking wishing there is a Luck check.
*	Magic chests - ported from dNethack - a container with shared
    contents - items put into a magic chest can be retrieved from any
    other magic chest. It can be moved, but it's very heavy. The contents
    don't add anything to the weight, though.
*	Magic bags - this light item allows items to be put into the magic
	chest, but not retrieved.
*	Removed the requirement that total object probability must be 1000
*	There are now 57 varieties of Sokoban. They came from Slex with major
	changes - the overall power/deadliness level has been much reduced
	from Slex, but it should still be more of a challenge than before.
*	From Fourk: Altars show the BUC status of the contents of a container
	without having to remove it.
*	Monsters (very) occasionally have an AoR
*	Added showweight / invweight options, like SlashEM - your current and
	maximum encumbrance on the status bar, and the weight shown with all
	inventory items.
*	Can wish for a magic lamp - maybe - it's Luck based - or doubloons.
*	Angels may carry Unlimited Moon, or a shield of resonance.
*	Allow a (fatal) attempt to ride an unsaddled cockatrice.
*	More packrats appear if you are heavily loaded.
*	More trees early, less late. Statues and fountains on Oracle level.


                        SpliceHack -- Changelog

A full list of differences in SpliceHack from vanilla NetHack can be found on
the wiki. This file documents the changes in each version of SpliceHack.

                    Version 0.5.0 - Balance and the Bizarre

Patches Introduced
- SpliceHack now uses xnethack's object materials patch.
- SpliceHack uses xnethack's randomly named weapons, originally ported from
  NetHack Fourk. SpliceHack's version functions differently, however, and
  generates a different set of names.

Balance Changes
- Nerfed lamassu damage output.
- Nerfed amalgamations slightly. Additionally, amalgamations now use a
  completely different and much better naming system that fits in the game
  more naturally.
- Disabled dungeon crumbling feature. This may be reinstated upon feedback.
- The demon lords that appear due to performing the ritual are no longer
  covetous, preventing the player from being mobbed and randomly killed during
  the ascension.
- Nerfed psionic attacks so that they no longer confuse the player.
- The lord of the foocubi is now renamed to Malcanthet, and has been heavily
  nerfed.

Role and Race Changes
- Infernals use their own race tag, which changes their class selection
  slightly.
- Silver items generate more often for infernal characters, making the role
  much more harrowing to play.
- Infernals are now fire resistant instead of having infravision.
- Pirates no longer always get a message about rising as skeletal pirates.
- Cartomancers use a refactored language system.

Dungeon Changes
- New branch: Ice wastes. A creepy level covered in ice and snow, with an orb
  of permafrost at the end. This level is important in that it also has a
  guaranteed pair of earmuffs, so it is much easier to find something for
  sonic resistance during a run.
- New branch: Mysterious laboratory. This laboratory is run by mind flayers, and
  they are not thrilled to be interrupted. The level contains numerous
  spellbooks as loot.

New Monsters (12)
- Failure Eidolon, a unique monster appearing in the ice wastes. It can
  teleport the player.
- Ancient Brain, a unique monster appearing in the laboratory. It cannot move,
  but can fire psychic rays and cast spells.
- Nuckelavee, a new type of demon with poison breath.
- Cheshire cats. They are very rare and only spawn in Gehennom. They have
  displacement, and making them invisible gives YAFM.
- Ported SLASH'EM's Zouthern animals, of which there are eight. Some of these
  animals have had their damage output nerfed from SLASH'EM in order to match
  the balance of SpliceHack.
- Animated statues have been completely removed and replaced with chess rooks,
  which like grid bugs can only move in straight lines.

New Objects (3)
- Orb of permafrost, an orb that causes an icy explosion when thrown.
- Spellbooks of flame sphere and freeze sphere, which function nearly
  identically to SLASH'EM. These necessitated changing the AI for explosive pets
  slightly.

Miscelaneous Changes
- All monsters can potentially gain intrinsics by eating, not just pets. This
  makes gelationous cubes and tasmanian devils slightly more dangerous since
  they consume everything in their path.
- Monsters can now use magic flutes and rarely drums of earthquake.
- Updated the database with many new monsters.
- YAFM when a tornado engulfs a Cartomancer (Luxidream).
- Pets now produce a message when they level up.
- Ants now have a special sound when #chatted with.
- Added a few more monsters to summon nasties.
- Monsters that can jump now notify you when you polymorph into them.
- Changed the piece of cloth into a dusty cloak (xnethack).
- Looking at a monster no longer displays whether they are armored, but does
  tell you the material of their weapon.

Bug Fixes
- Fixed doors being rendered in the wrong color.
- Updated to current version of vanilla NetHack.
- Fixed health food stores causing segfaults (msearle5).
- Monsters with steeds and ridden monsters no longer follow you to other levels,
  thus preventing a number of segfaults and bugs.
- Spellcasters with no arms no longer point at you before cursing.
- Fixed some monster sound bugs.
- Monsters now actually attempt to throw their throwing axes.
- Fixed legendary lichen corpses being treated differently than lichens.
- Fixed silver haters being gifted silver artifacts.
- Fixed silver haters starting the game with silver items. The items in their
  inventory are set to iron instead of silver, regardless of the type. This is
  a kludge.
- Fixed overly powerful reaver, and a few erroneous damage values for weapons.
- Fixed a lot of black market related bugs, including continual guards and
  thiefbane not being wielded. This means that One-Eyed Sam now wears a cloak
  of reflection and hex dragon scale mail.
- Fixed amalgamations bugging out when engulfing.

Known Bugs
- Pets can be taken into the Black Market, but not out of it.
- Some races are improperly tagged.

                    Version 0.4.0 - QOL and Life Improvement

Major Patches
- Implemented a heavily modified version of the descriptive hit messages patch
  by L, and combined it with SpliceHack's existing monk hit messages.
- Changes from NetHack 3.6.2B were pulled into the game.
- Chris's Pirate patch was implemented, thus adding the pirate role to the game.
  Updating this to be compatible with 3.6.1 took quite a bit of work, so for
  those trying to add it to 3.6.1 I would recommend looking at what I did here.
- Added the Black Market from Unnethack/SLASHEM, using the code in Unnethack.
  The market functions largely the same as the one in SLASHEM, although there
  are a few small differences due to porting the code from 3.4.3 to 3.6.x
  (see below).
- Implemented an altered version of the colored walls and floors patch by L.
  Only walls are colored, and the Valley of the Dead is not in grayscale. In
  addition, some branches have new wall colors.

QOL Changes
- Dropped the quest entry requirement to level 10.
- Ported paranoid trap and swim confirmation from xnethack.
- Ported peaceful monster displacement from xnethack.
- Ported NAO 3.4.3's hilite_hidden_stairs option to 3.6.x and SpliceHack.
  Defaults to true.
- Artifact wishing is based on the number of artifacts wished for, not
  generated, preventing the increased  number of artifacts from nerfing artifact
  wishing.
- The vibrating square can now be teleported onto directly (YANI by Mandevil)
- New messages when monsters pursue you up or down dungeon levels (YANI by
  aosdict)
- There are now messages for triggering teleport and level teleport traps.
- Void level disabled (for now).
- Looking at monsters provides additional information, such as whether they can
  jump or be domesticated.

Balance Changes
- Nerfed Lord of the Foocubi and Will-o'-the-wisps after player feedback.
- Nerfed mind flayer telepath damage.
- Only dragons can randomly roar now, as opposed to any monster with MS_ROAR.
- Reduced the number of marids and giant eels on the plane of water.
- Monsters can only get wishes from smoky potions now, not wands of
  wishing. Wishes for wands of death and archon figurines were removed.
- Several artifacts were buffed. The most noticeable buff is to dismounter,
  which now does extra damage and throws a rider from their horse, making them
  automatically stunned. This is particularly useful against the new riders.
- Luckless Folly now must be wished for, and will probably be added as a prize
  for a branch at some point.
- Amalgamtions now grab totally random monsters to make a part of themselves.
  For balance purposes, their speed has been massively nerfed. Regardless,
  tangle with them at your own peril.

New Monsters (21, but only 8 spawn randomly)
- Ported Gnolls, Gnoll Shamans, and Gnoll Chieftains from SLASH'EM.
- Added Lampades, high-level nymphs appearing in Gehennom.
- Added Pack Lords, which transform into Alpha Werewolves. Alpha Werewolves
  transmit regular lycanthropy, and can (rarely) summon normal werewolves.
- Added ratmen and mutated ratmen. Both are low-level monsters that spawn
  randomly.
- Headless horseman, a demon that spawns riding a nightmare.
- A pale horse, white horse, and black horse, which only appear on the Astral
  Plane and are ridden by their respective Riders.
- The pirate patch adds damned pirates, skeletal pirates, parrots, Mayor
  Cumberbund, Blackbeard's Ghost, pirates, pirate brothers, and planar pirates.
  These are not usually encountered unless one is a pirate.
- One-Eyed Sam the Arms Dealer runs the Black Market.

New Objects (4)
- Ring of Blood Magic: If you do not have enough energy to cast a spell, you
  cast it anyway, but lose hit points equal to the excess energy. Casting
  healing spells using blood magic will deal extra damage to you in order to
  prevent skill farming.
- Ring of Psychic Resistance: One of the few ways in the game to become
  resistant to psionic attacks.
- Ring of Memory: Blocks the forgetting of items, spells, and objects.
  Essentially amnesia resistance.
- Scrolls of Knowledge: Essentially scrolls of reverse identify, like those
  that appear in Nethack, the Next Generation. Reading one will allow you to
  identify any item in the game by prompt.

New Artifacts (4)
- Chest of Proteus: The pirate quest artifact. Catches curses and occasionally
  polymorphs the items placed inside it. The polypiler's dream.
- Reaver: An artifact scimitar. The crowning gift for pirates.
- Marauder's Map: An artifact scroll of magic mapping. Sacrifice gift for
  pirates. Can also be invoked to detect artifacts.
- Thiefbane: Wielded by One-Eyed Sam. Identical to Thiefbane in Unnethack.

New Features
- Pets can gain intrinsics through corpses in the same way that the player can.
- Water walking has been implemented for monsters, and functions exactly how one
  would expect.
- Displacement has been implemented for monsters. A displaced monster has a 1/4
  chance of being someplace else when it is melee-d, and then surprising you.
  Displacement can be bypassed using see invisible or telepathy. This feature is
  subject to change on player feedback.
- Monsters can jump. This essentially allows them to do a short range teleport
  to the player if there is an available jumping path.
- All monsters can now gain displacement, water walking, and jumping from
  appropriate items.
- Monsters are now capable of riding steeds. Currently only headless horsemen
  and the Riders ride steeds. Each of the riders is mounted on an appropriate
  high-level horse.

Role and Race Changes
- Improved Cartomancer energy levels, which were very low due to a missing case
  in a switch statement.
- Cartomancer basement is now a mines level.
- Easter egg for Cartomancers that read credit cards.
- Chromatic dragons are treated as domestic for Dragonmasters, meaning (among
  other things) that they can be tamed.
- Dragonmasters slowly regenerate energy when standing next to pet dragons.
  Additionally, pet dragons will attempt to help a dragonmaster who is slimed,
  asleep, or stuck.
- As noted above, the pirate role is now available.

Miscelaneous Changes and Bug Fixes
- Fixed the alignment of monsters being compared incorrectly when seeing whether
  they would sacrifice something on an altar.
- Fixed a segfault relating to monsters being gifted a nonexistent item from an
  altar.
- Fixed monsters not picking up corpses to sacrifice. All of these fixes make
  monster sacrifice on altars much more likely to occur, especially in minetown.
- Landsharks are no longer slithy.
- Martial artists and martial masters use monk hit messages.
- Landsharks and Jumping Spiders are capable of jumping. Polymorphing into
  either of these monsters will grant the ability to jump.
- Completely reworked Mephisto's lair.
- The Grim Reaper is now drain resistant.
- Earmuffs are now referred to as "a pair of earmuffs" instead of "earmuff,"
  fixing one of the longest running bugs in SpliceHack.
- Game pluralizes "worm that walks" as "worms that walk," as opposed to the
  Gollum-esque "worms that walkses."
- Psychic and sonic resistance now appear in the enlightenment menu.
- Permanent versus temporary hallucination is now displayed correctly based on
  roleplay options.
- Added a few random god names.
- Added new sounds for pirates, all zombies, cows, and giant flies.
- Due to the way that shopkeepers changed from 3.4.3 to 3.6.x, simply using
  PM_ONE_EYED_SAM results in (at best), "One-Eyed Sam the One-Eyed Sam", and
  segfaults due to shopkeeper struct initialization at worst. Thus, she now
  uses the Arms Dealer monster entry.
- Domestic birds can now fly, as they were supposed to be able to.
- Riders now carry their appropriate implements, and resurrect with special
  messages.
- Merfolk are generated hostile now, so killing them no longer counts as
  murder.
- Mind flayer telepaths are now treated as mind flayers.
- Magma elementals no longer say that they dissolved into magma without
  actually dissolving into magma.
- Silver dragons and baby silver dragons no longer quaff potions of reflection.
- Desert jinn no longer leave corpses.
- Fixed a bug where enlightenment could not be duplicated by a wand of wonder.
- Fixed amalgamations rarely randomly segfaulting on initialization.

Known Bugs
- Currently, it is possible to take your pet into the black market, but not
  back out. I know why this bug exists but have not been able to solve it.
